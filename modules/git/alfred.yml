install:
    summary: Install a private git project
    tasks: clone alfred
    usage: alfred common/git install kcmerrill/yoda yoda

alfred:
    summary: Run alfred install
    command: alfred install
    dir: ./{{ index .Args 1 }}

clone:
    summary: Clone project
    command: ls {{index .Args 1}} || git clone git@github.com:{{ index .Args 0 }}.git {{ index .Args 1}}
    usage: alfred common/git checkout projectname projectfolder
    tasks: submodule-update-init

checkout:
    summary: Checkout commit
    command: git checkout {{ index .Args 0}}

submodule-update-init:
    summary: Update/Init submodules
    dir: ./{{index .Args 1}}
    command: git submodule update --init --recursive || true

submodule:
    summary: Checkout submodule
    command: git reset HEAD --hard && git checkout {{ index .Args 1}}
    dir: ./{{ index .Args 0 }}
